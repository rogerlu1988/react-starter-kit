import{a as v,p as d}from"./chunk-DQRVZFIR-CVQrgAzT.js";import{w as Pe,u as oe,S as Ce,c as we,I as be,a as x,i as b,s as Ee,b as ke,U as $,d as Z,e as Se,f as xe}from"./index-C-moV2d0.js";var _e=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function Ae({packageName:e,customMessages:t}){let r=e;const n={..._e,...t};function o(i,s){if(!s)return`${r}: ${i}`;let a=i;const l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const g of l){const f=(s[g[1]]||"").toString();a=a.replace(`{{${g[1]}}}`,f)}return`${r}: ${a}`}return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(o(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(o(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(o(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(o(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(o(n.MissingClerkProvider,i))},throw(i){throw new Error(o(i))}}}var ie=Object.defineProperty,Me=Object.getOwnPropertyDescriptor,Re=Object.getOwnPropertyNames,Ue=Object.prototype.hasOwnProperty,Ie=(e,t)=>{for(var r in t)ie(e,r,{get:t[r],enumerable:!0})},Oe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Re(t))!Ue.call(e,o)&&o!==r&&ie(e,o,{get:()=>t[o],enumerable:!(n=Me(t,o))||n.enumerable});return e},ze=(e,t,r)=>(Oe(e,t,"default"),r),Te={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},Le=new Set(["first_factor","second_factor","multi_factor"]),Be=new Set(["strict_mfa","strict","moderate","lax"]),De=e=>typeof e=="number"&&e>0,We=e=>Le.has(e),$e=e=>Be.has(e),j=e=>e.replace(/^(org:)*/,"org:"),je=(e,t)=>{const{orgId:r,orgRole:n,orgPermissions:o}=t;return!e.role&&!e.permission||!r||!n||!o?null:e.permission?o.includes(j(e.permission)):e.role?j(n)===j(e.role):null},Q=(e,t)=>{const{org:r,user:n}=Ve(e),[o,i]=t.split(":"),s=i||o;return o==="org"?r.includes(s):o==="user"?n.includes(s):[...r,...n].includes(s)},Fe=(e,t)=>{const{features:r,plans:n}=t;return e.feature&&r?Q(r,e.feature):e.plan&&n?Q(n,e.plan):null},Ve=e=>{const t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},Ne=e=>{if(!e)return!1;const t=o=>typeof o=="string"?Te[o]:o,r=typeof e=="string"&&$e(e),n=typeof e=="object"&&We(e.level)&&De(e.afterMinutes);return r||n?t.bind(null,e):!1},Ke=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const r=Ne(e.reverification);if(!r)return null;const{level:n,afterMinutes:o}=r(),[i,s]=t,a=i!==-1?o>i:null,l=s!==-1?o>s:null;switch(n){case"first_factor":return a;case"second_factor":return s!==-1?l:a;case"multi_factor":return s===-1?a:a&&l}},qe=e=>t=>{if(!e.userId)return!1;const r=Fe(t,e),n=je(t,e),o=Ke(t,e);return[r||n,o].some(i=>i===null)?[r||n,o].some(i=>i===!0):[r||n,o].every(i=>i===!0)},He=({authObject:{sessionId:e,sessionStatus:t,userId:r,actor:n,orgId:o,orgRole:i,orgSlug:s,signOut:a,getToken:l,has:g,sessionClaims:f},options:{treatPendingAsSignedOut:P=!0}})=>{if(e===void 0&&r===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:a,getToken:l};if(e===null&&r===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(P&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(e&&f&&r&&o&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:f,userId:r,actor:n||null,orgId:o,orgRole:i,orgSlug:s||null,has:g,signOut:a,getToken:l};if(e&&f&&r&&!o)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:f,userId:r,actor:n||null,orgId:null,orgRole:null,orgSlug:null,has:g,signOut:a,getToken:l}},Ye="METHOD_CALLED";function Ge(e,t){return{event:Ye,payload:{method:e,...t}}}const Je=()=>{},Xe=Je(),N=Object,ee=e=>e===Xe,Ze=e=>typeof e=="function",B=new WeakMap,F=(e,t)=>N.prototype.toString.call(e)===`[object ${t}]`;let Qe=0;const K=e=>{const t=typeof e,r=F(e,"Date"),n=F(e,"RegExp"),o=F(e,"Object");let i,s;if(N(e)===e&&!r&&!n){if(i=B.get(e),i)return i;if(i=++Qe+"~",B.set(e,i),Array.isArray(e)){for(i="@",s=0;s<e.length;s++)i+=K(e[s])+",";B.set(e,i)}if(o){i="#";const a=N.keys(e).sort();for(;!ee(s=a.pop());)ee(e[s])||(i+=s+":"+K(e[s])+",");B.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},et=e=>{if(Ze(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?K(e):"",[e,t]},tt=e=>et(e?e(0,null):null)[0],V=Promise.resolve(),rt=e=>(t,r,n)=>{const o=v.useRef(!1),{cache:i,initialSize:s=1,revalidateAll:a=!1,persistSize:l=!1,revalidateFirstPage:g=!0,revalidateOnMount:f=!1,parallel:P=!1}=n,[,,,E]=Ce.get(we);let u;try{u=tt(t),u&&(u=be+u)}catch{}const[M,R,fe]=x(i,u),G=v.useCallback(()=>b(M()._l)?s:M()._l,[i,u,s]);Ee.useSyncExternalStore(v.useCallback(c=>u?fe(u,()=>{c()}):()=>{},[i,u]),G,G);const k=v.useCallback(()=>{const c=M()._l;return b(c)?s:c},[u,s]),J=v.useRef(k());ke(()=>{if(!o.current){o.current=!0;return}u&&R({_l:l?J.current:k()})},[u,i]);const pe=f&&!o.current,S=e(u,async c=>{const w=M()._i,p=M()._r;R({_r:$});const y=[],D=k(),[T]=x(i,c),C=T().data,U=[];let L=null;for(let h=0;h<D;++h){const[I,W]=Z(t(h,P?null:L));if(!I)break;const[ge,ve]=x(i,I);let m=ge().data;const ye=a||w||b(m)||g&&!h&&!b(C)||pe||C&&!b(C[h])&&!n.compare(C[h],m);if(r&&(typeof p=="function"?p(m,W):ye)){const X=async()=>{if(!(I in E))m=await r(W);else{const me=E[I];delete E[I],m=await me}ve({data:m,_k:W}),y[h]=m};P?U.push(X):await X()}else y[h]=m;P||(L=m)}return P&&await Promise.all(U.map(h=>h())),R({_i:$}),y},n),z=v.useCallback(function(c,w){const p=typeof w=="boolean"?{revalidate:w}:w||{},y=p.revalidate!==!1;return u?(y&&(b(c)?R({_i:!0,_r:p.revalidate}):R({_i:!1,_r:p.revalidate})),arguments.length?S.mutate(c,{...p,revalidate:y}):S.mutate()):V},[u,i]),he=v.useCallback(c=>{if(!u)return V;const[,w]=x(i,u);let p;if(Se(c)?p=c(k()):typeof c=="number"&&(p=c),typeof p!="number")return V;w({_l:p}),J.current=p;const y=[],[D]=x(i,u);let T=null;for(let C=0;C<p;++C){const[U]=Z(t(C,T)),[L]=x(i,U),h=U?L().data:$;if(b(h))return z(D().data);y.push(h),T=h}return z(y)},[u,i,z,k]);return{size:k(),setSize:he,mutate:z,get data(){return S.data},get error(){return S.error},get isValidating(){return S.isValidating},get isLoading(){return S.isLoading}}},nt=Pe(oe,rt);var te=Object.prototype.hasOwnProperty;function re(e,t,r){for(r of e.keys())if(O(r,t))return r}function O(e,t){var r,n,o;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&O(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(o=n,o&&typeof o=="object"&&(o=re(t,o),!o)||!t.has(o))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(o=n[0],o&&typeof o=="object"&&(o=re(t,o),!o)||!O(n[1],t.get(o)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(te.call(e,r)&&++n&&!te.call(t,r)||!(r in t)||!O(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function ot(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var _=(e,t)=>{const{assertCtxFn:r=ot}={},n=d.createContext(void 0);return n.displayName=e,[n,()=>{const s=d.useContext(n);return r(s,`${e} not found`),s.value},()=>{const s=d.useContext(n);return s?s.value:{}}]},q={};Ie(q,{useSWR:()=>oe,useSWRInfinite:()=>nt});ze(q,xe);var[se,ae]=_("ClerkInstanceContext"),[vt,yt]=_("UserContext"),[mt,Pt]=_("ClientContext"),[Ct,wt]=_("SessionContext");d.createContext({});var[it,bt]=_("OrganizationContext"),Et=({children:e,organization:t,swrConfig:r})=>d.createElement(q.SWRConfig,{value:r},d.createElement(it.Provider,{value:{value:{organization:t}}},e));function le(e){if(!d.useContext(se)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?d.useLayoutEffect:d.useEffect;var kt=()=>(le("useClerk"),ae()),St=O,xt=()=>{try{return!1}catch{}return!1},st=()=>{try{return!1}catch{}return!1},at=()=>{try{return!0}catch{}return!1},ne=new Set,H=(e,t,r)=>{const n=st()||at(),o=e;ne.has(o)||n||(ne.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},Y=Ae({packageName:"@clerk/clerk-react"});function _t(e){Y.setMessages(e).setPackageName(e)}var[At,lt]=_("AuthContext"),Mt=se,ue=ae,Rt="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Ut=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,ut="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",It="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Ot="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",zt="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Tt="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Lt="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Bt=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,Dt=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,Wt=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,$t=e=>`The <${e}/> component uses path-based routing by default unless a different routing strategy is provided using the \`routing\` prop. When path-based routing is used, you need to provide the path where the component is mounted on by using the \`path\` prop. Example: <${e} path={'/my-path'} />`,jt=e=>`The \`path\` prop will only be respected when the Clerk component uses path-based routing. To resolve this error, pass \`routing='path'\` to the <${e}/> component, or drop the \`path\` prop to switch to hash-based routing. For more details please refer to our docs: https://clerk.com/docs`,Ft="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Vt="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Nt="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",Kt="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",qt="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",Ht="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Yt="Missing props. <UserButton.Action /> component requires the following props: label.",ce=e=>{le(()=>{Y.throwMissingClerkProviderError({source:e})})},de=e=>new Promise(t=>{const r=n=>{["ready","degraded"].includes(n)&&(t(),e.off("status",r))};e.on("status",r,{notify:!0})}),ct=e=>async t=>(await de(e),e.session?e.session.getToken(t):null),dt=e=>async(...t)=>(await de(e),e.signOut(...t)),Gt=(e={})=>{var t,r;ce("useAuth");const{treatPendingAsSignedOut:n,...o}=e??{},i=o;let a=lt();a.sessionId===void 0&&a.userId===void 0&&(a=i??{});const l=ue(),g=v.useCallback(ct(l),[l]),f=v.useCallback(dt(l),[l]);return(t=l.telemetry)==null||t.record(Ge("useAuth",{treatPendingAsSignedOut:n})),ft({...a,getToken:g,signOut:f},{treatPendingAsSignedOut:n??((r=l.__internal_getOption)==null?void 0:r.call(l,"treatPendingAsSignedOut"))})};function ft(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:r,orgId:n,orgRole:o,has:i,signOut:s,getToken:a,orgPermissions:l,factorVerificationAge:g,sessionClaims:f}=e??{},P=v.useCallback(u=>i?i(u):qe({userId:r,orgId:n,orgRole:o,orgPermissions:l,factorVerificationAge:g,features:(f==null?void 0:f.fea)||"",plans:(f==null?void 0:f.pla)||""})(u),[i,r,n,o,l,g]),E=He({authObject:{...e,getToken:a,signOut:s,has:P},options:{treatPendingAsSignedOut:t}});return E||Y.throw(ut)}var A=(e,t)=>{const n=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=n;const o=typeof t=="string"?void 0:t,i=s=>{ce(n);const a=ue();return!a.loaded&&!(o!=null&&o.renderWhileLoading)?null:d.createElement(e,{...s,component:n,clerk:a})};return i.displayName=`withClerk(${n})`,i};A(({clerk:e,...t})=>{const{client:r,session:n}=e,o=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return d.useEffect(()=>{n===null&&o?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");A(({clerk:e,...t})=>(d.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");A(({clerk:e})=>(d.useEffect(()=>{H("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");A(({clerk:e})=>(d.useEffect(()=>{H("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");A(({clerk:e})=>(d.useEffect(()=>{H("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");A(({clerk:e,...t})=>(d.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");export{Rt as A,At as B,mt as C,Mt as I,Et as O,Ct as S,vt as U,kt as a,Ae as b,xt as c,St as d,Y as e,Bt as f,Dt as g,Wt as h,jt as i,Ft as j,Vt as k,Yt as l,Ht as m,$t as n,Lt as o,Tt as p,Ot as q,zt as r,Nt as s,Kt as t,Gt as u,qt as v,A as w,_t as x,Ut as y,It as z};
