import{w as x}from"./with-props-CzSI8F6l.js";import{a as u,o as e,w as a}from"./chunk-DQRVZFIR-CVQrgAzT.js";import{B as i}from"./button-CbpcyQgn.js";import{C as c,a as n,b as l,c as o,d}from"./card-4HOsPCDQ.js";import{a as m,L as h}from"./api-DIz6I-RT.js";import{u as f,c as p}from"./use_queries-B9NbwxMJ.js";import{c as j}from"./createLucideIcon-DrZpu-0l.js";import{A as N}from"./arrow-right-D7VU-fpb.js";import{u as g}from"./chunk-T2VIWQBM-TIbrgF64.js";import"./utils-DY3ni-Ar.js";import"./index-C-moV2d0.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w=j("circle-check-big",y),U=x(function(){const{isSignedIn:t}=g(),s=f(m.subscriptions.fetchUserSubscription),r=p(m.users.upsertUser);return u.useEffect(()=>{t&&r()},[t,r]),t?s?e.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:e.jsxs(c,{className:"max-w-2xl w-full text-center",children:[e.jsxs(n,{className:"pb-6",children:[e.jsx("div",{className:"mx-auto mb-4",children:e.jsx(w,{className:"h-16 w-16 text-green-500"})}),e.jsx(l,{className:"text-3xl font-bold",children:"Welcome to your subscription!"}),e.jsx(o,{className:"text-lg",children:"Your payment was successful and your subscription is now active."})]}),e.jsxs(d,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Subscription Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx("span",{className:"font-medium capitalize",children:s.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),e.jsxs("span",{className:"font-medium",children:["$",s.amount?(s.amount/100).toFixed(2):"0.00"," ",s.currency?s.currency.toUpperCase():"USD"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Billing Cycle:"}),e.jsx("span",{className:"font-medium capitalize",children:s.interval})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Next Billing:"}),e.jsx("span",{className:"font-medium",children:s.currentPeriodEnd?new Date(s.currentPeriodEnd).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"What's Next?"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(i,{asChild:!0,className:"w-full",children:e.jsx(a,{to:(s==null?void 0:s.status)==="active"?"/dashboard":"/pricing",children:(s==null?void 0:s.status)==="active"?e.jsxs(e.Fragment,{children:["Go to Dashboard",e.jsx(N,{className:"ml-2 h-4 w-4"})]}):"View Pricing"})}),e.jsx(i,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx(a,{to:"/",children:"Back to Home"})})]})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.status)==="active"?"You'll receive a confirmation email shortly. If you have any questions, feel free to contact our support team.":"Your payment is processing. It may take a few minutes for your subscription to activate. Please refresh the page or try again shortly."})})]})]})}):e.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Loading your subscription details..."})]})}):e.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:e.jsxs(c,{className:"max-w-md w-full text-center",children:[e.jsxs(n,{children:[e.jsx(l,{className:"text-2xl",children:"Access Denied"}),e.jsx(o,{children:"Please sign in to view your subscription details."})]}),e.jsx(d,{children:e.jsx(i,{asChild:!0,className:"w-full",children:e.jsx(a,{to:"/sign-in",children:"Sign In"})})})]})})});export{U as default};
